<!DOCTYPE html>
<html lang="fr" data-bs-theme="auto">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="La boutique spécialisée dans les loisirs en France">

        <title>{% block title %}Bienvenue!{% endblock %}</title>

        <link rel="icon" href="{{ asset('static/favicon.ico') }}" type="image/x-icon"> 

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

        <link rel="stylesheet" href="{{ asset('css/style.css') }}" type="text/css">

        {% block stylesheets %}
        {% endblock %}

        {# Include des macros Twig #}
        {# {% import 'macros.html.twig' as macros %} #}

        {% block javascripts %}
            {% block importmap %}
                {{ importmap('app') }}
            {% endblock %}
        {% endblock %}
    </head>
    <body class="m-0 border-0 bd-example m-0 border-0">
        {# Header #}
        <header>
            {# Navbar #}
            <nav class="navbar fixed-top navbar-expand-lg bg-body-tertiary">
                <div class="container-fluid">
                    {# Navbar Brand #}
                    <a class="navbar-brand d-flex align-items-center fs-4 custom-shadow" href="{{ path('app_home') }}">
                        <img  src="{{ asset('icon/logo_loisirs_en_france.png') }}" alt="Logo de Loisirs en France" width="50" height="50" class="brand-logo d-inline-block align-text-top">
                        <h1 class="brand-name ps-4">Loisirs en France</h1>
                    </a>                    
                    {# Button Burger #}
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Basculer la navigation">
                        <span class="navbar-toggler-icon">
                            <div></div>
                        </span>
                    </button>
                    {# Navbar Collapse #}
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        {# Navbar Links #}
                        <ul class="navbar-nav m-auto mb-2 mb-lg-0">
                            {# Nav Items #}
                            <li class="nav-item">
                                <a class="nav-link fs-2" href="#">Activités</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fs-2" href="#">Blog</a>
                            </li>
                            {# Nav Item Dropdown #}
                            <li class="nav-item dropdown">
                                {# Dropdown Toggle #}
                                <a class="nav-link dropdown-toggle fs-2" href="#" role="button" id="contactDropdown" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Menu contact">Contact</a>                                
                                {# Dropdown Menu #}
                                <ul class="dropdown-menu" aria-labelledby="contactDropdown">
                                    {# Dropdown Menu Item #}
                                    <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#contactModal" href="#">Nous contacter</a></li>
                                    <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#aboutModal" href="#">À propos</a></li>
                                    <li><a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#partnerModal" href="#">Devenir Partenaire</a></li>
                                </ul>
                            </li>
                            {# Nav Item Dropdown #}
                            <li class="nav-item dropdown">
                                {# Dropdown Toggle #}
                                <a href="#" class="nav-link dropdown-toggle fs-2" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-label="Menu utilisateur">
                                    <i class="bi bi-person" alt="Icône utilisateur" width="32" height="32" class="rounded-circle"></i>
                                </a>
                                {# Dropdown Menu #}
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    {% if app.user %}
                                        {# Dropdown Menu Item #}
                                        <li>
                                            <a class="dropdown-item" href="{{ path('app_account') }}">
                                                <i class="bi bi-person" alt="Icône utilisateur"></i> {{ app.user.firstname }}
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="{{ path('app_account') }}">Tableau de bord</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="{{ path('app_logout') }}">Déconnexion</a>
                                        </li>
                                    {% else %}
                                        <li>
                                            <a class="dropdown-item" href="{{ path('app_login') }}">
                                                <i class="bi bi-person" alt="Icône utilisateur"></i> Connexion
                                            </a>
                                        </li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item" href="{{ path('app_register') }}">Inscription</a></li>
                                    {% endif %}
                                </ul>
                            </li>
                            {# Nav Item #}
                            <li class="nav-item">
                                <a class="nav-link fs-2" href="{{ path('app_account_basket') }}"><i class="bi bi-bag me-2" alt="Icône panier" width="32" height="32"></i></a>
                            </li>
                        </ul>        
                        {# Search Form #}
                        <form class="d-flex" role="search">
                            <div class="input-group">
                                <input type="search" class="form-control" placeholder="Rechercher" aria-label="Rechercher">
                                <button class="btn" type="button" data-bs-toggle="modal" data-bs-target="#filterModal" aria-label="Appliquer le filtre"><i class="bi bi-filter-square-fill"></i></button>
                            </div>
                            <button  class="btn ms-3" type="submit"  aria-label="Soumettre la recherche">Rechercher</button>
                        </form>
                    </div>
                </div>
            </nav>
        </header>
            {# AddFlash #}
            <div class="container">
                {% for label, messages in app.flashes %}
                    {% for message in messages %}
                        <div class="alert mt-4 alert-{{ label }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>
        {# Body Content #}
        {% block body %}{% endblock %}

        {# Footer #}
        <footer>
            <div class="container-fluid">
                {# Première rangée footer #}
                <div class="row">
                    {# Section À propos #}
                    <div class="col-md-4 text-center mt-4">
                        <h2>À propos</h2>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <a href="#"  data-bs-toggle="modal" data-bs-target="#aboutModal" aria-label="En savoir plus sur Loisirs en France">
                                    À propos de Loisirs en France
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" aria-label="Consulter le blog Loisirs en France">
                                    Le blog Loisirs en France
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="#"  data-bs-toggle="modal" data-bs-target="#contactModal" aria-label="Nous contacter">
                                    Nous contacter
                                </a>
                            </li>
                        </ul>
                    </div>
                    {# Section Liens Utiles #}
                    <div class="col-md-4 text-center mt-4">
                        <h2>Liens Utiles</h2>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <a href="#" data-bs-toggle="modal" data-bs-target="#partnerModal" aria-label="Devenir partenaire">
                                    Devenir Partenaire
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" data-bs-toggle="modal" data-bs-target="#faqModal" aria-label="Consulter la FAQ">
                                    F.A.Q - Besoin d'aide
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" data-bs-toggle="modal" data-bs-target="#invitationModal" aria-label="Télécharger une carte d'invitation anniversaire">
                                    Carte d’invitation Anniversaire
                                </a>
                            </li>
                            <li class="list-group-item">
                                <a href="#" data-bs-toggle="modal" data-bs-target="#reviewsModal" aria-label="Consulter tous les avis de Loisirs en France">
                                    Tous les avis de Loisirs en France
                                </a>
                            </li>
                        </ul>
                    </div>
                    {# Section Contact #}
                    <div class="contact col-md-4 text-center mt-4">
                        <h2>Particuliers, Professionnels</h2>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <p>Notre service client est ouvert :</p>
                            </li>
                            <li class="list-group-item">
                                <p>du lundi au vendredi de 9h à 18h</p>
                            </li>
                            <li class="list-group-item">
                                <a href="mailto:loisirsenfrance@gmail.com" aria-label="Nous contacter par email">
                                    Envoyer un mail
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                {# Deuxième rangée footer #}
                <div class="row">
                    {# Rangée des réseaux sociaux #}
                    <div class="col-md-4 text-center mt-4">
                        <h2>Rejoignez-nous aussi sur :</h2>
                        <div>
                            <a href="https://www.facebook.com/?locale=fr_FR" target="_blank" class="mx-2" aria-label="Facebook">
                                <i class="bi bi-facebook" alt="Icône Facebook"></i>
                            </a>
                            <a href="https://x.com/?lang=fr" target="_blank" class="mx-2" aria-label="Twitter">
                                <i class="bi bi-twitter" alt="Icône Twitter"></i>
                            </a>
                            <a href="https://www.instagram.com/" target="_blank" class="mx-2" aria-label="Instagram">
                                <i class="bi bi-instagram" alt="Icône Instagram"></i>
                            </a>
                            <a href="https://fr.linkedin.com/" target="_blank" class="mx-2" aria-label="Linkedin">
                                <i class="bi bi-linkedin" alt="Icône Linkedin"></i>
                            </a>
                        </div>
                    </div>
                    {# Rangée des modes de paiement #}
                    <div class="col-md-4 text-center mt-4">
                        <h2>Moyens de paiement :</h2>
                        <div>
                            <img 
                                src="{{ asset('icon/cb_visa_mastercard_logo-1.png') }}" 
                                alt="Logo de CB, Visa, Mastercard et Paypal"
                                width="200" 
                                height="40" 
                                class="brand-logo"
                            >
                        </div>
                    </div>
                {# Rangée des mentions légales #}
                <div class="col-md-4 text-center mt-4">
                    <h2>© Loisirs en France 2025,</h2>
                    <h2>Tous droits réservés.</h2>
                    <ul class="list-inline">
                        <li class="list-inline-item">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal" aria-label="Consulter les conditions générales">
                                Conditions générales
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="#" data-bs-toggle="modal" data-bs-target="#legalModal" aria-label="Consulter les mentions légales">
                                Mentions légales
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </footer>

        {# Inclure les fichiers de modals #}
        {% include 'modals/about_modal.html.twig' %}
        {% include 'modals/faq_modal.html.twig' %}
        {% include 'modals/terms_modal.html.twig' %}
        {% include 'modals/legal_modal.html.twig' %}
        {% include 'modals/filter_modal.html.twig' %}
        {% include 'modals/partner_modal.html.twig' %}
        {% include 'modals/invitation_modal.html.twig' %}
        {% include 'modals/reviews_modal.html.twig' %}
        {% include 'modals/contact_modal.html.twig' %}

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script> document.addEventListener('DOMContentLoaded', function () {
            var dropdownToggles = document.querySelectorAll('[data-bs-toggle="dropdown"]');
            dropdownToggles.forEach(function (dropdown) {
                dropdown.addEventListener('click', function (e) {
                    e.stopPropagation(); // Évite les comportements inattendus
                });
            });
        });</script>
    </body>
</html>
