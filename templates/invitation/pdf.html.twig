{# Modal Carte d’invitation Anniversaire #}
<div class="modal fade" id="invitationModal" tabindex="-1" aria-labelledby="invitationModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            
            {# <div class="modal-header">
                <h5 class="modal-title" id="invitationModalLabel">Personnaliser votre carte d'invitation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div> #}

            <div class="modal-body">                
                {# Formulaire de personnalisation #}
                <form id="birthdayCardForm" name="personalize_birthday_card" method="POST" enctype="multipart/form-data">
                
                    {# Aperçu de la carte #}
                    <div class="bg-primaryBlue border-secondary-custom text-center p-3 mb-3 d-flex justify-content-center">
                        <div class="card" style="max-width: 520px; font-size: 70%;">
                            <div class="w-100 d-flex justify-content-center">
                                <div class="position-relative">
                                    <img src="img/carte-invitation.png" class="w-100" style="max-width: 100%; height: auto;" alt="Carte d'invitation d'anniversaire personnalisable">
                                    {# Aperçu Âge #}
                                    <div class="position-absolute text-center w-100" style="top: 30%;">
                                        <div class="px-4 fs-5">
                                            Viens fêter mes 
                                            <span id="preview_howOld" class="personalize_birthday_card_howOld">42 </span>
                                            ans lors de mon anniversaire
                                        </div>
                                    </div>
                                    {# Aperçu Thème #}
                                    <div class="position-absolute text-center w-100" style="top: 45%;">
                                        <div class="color-tertiary-custom fs-5">
                                            <span id="preview_theme" class="personalize_birthday_card_theme">Soirée déguisée</span>
                                        </div>
                                    </div>
                                    {# Aperçu Date et Heure #}
                                    <div class="position-absolute text-center w-100" style="top: 52%;">
                                        <div class="color-tertiary-custom fs-5">
                                            <span id="preview_when" class="personalize_birthday_card_when">28/01/2025 15h30</span>
                                        </div>
                                    </div>
                                    {# Aperçu Adresse #}
                                    <div class="position-absolute text-center w-100" style="top: 60%;">
                                        <div id="preview_where" class="personalize_birthday_card_where fs-6">
                                            138 avenue Jean Jaurès
                                            <br>
                                            95100 Argenteuil
                                        </div>
                                    </div>
                                    {# Aperçu Téléphone #}
                                    <div class="position-absolute text-center w-100" style="bottom: 23%;">
                                        <div class="px-3 fs-6">
                                            Donne ta réponse au :
                                            <span id="preview_phone" class="personalize_birthday_card_phone">06.03.16.53.51</span>
                                        </div>
                                    </div>
                                    {# Aperçu Prénom #}
                                    <div class="position-absolute text-center w-100" style="bottom: 17%;">
                                        <div class="color-tertiary-custom fs-5">
                                            <span id="preview_firstName" class="personalize_birthday_card_firstName">Richard</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {# Champs du formulaire #}
                    {# <div class="mb-3">
                        <label for="input_howOld" class="form-label">Âge :</label>
                        <input type="number" id="input_howOld" class="form-control" name="howOld" min="1" max="120" value="42">
                    </div>

                    <div class="mb-3">
                        <label for="input_theme" class="form-label">Thème :</label>
                        <input type="text" id="input_theme" class="form-control" name="theme" value="Soirée déguisée">
                    </div>

                    <div class="mb-3">
                        <label for="input_when" class="form-label">Date et Heure :</label>
                        <input type="datetime-local" id="input_when" class="form-control" name="when" value="2025-01-28T15:30">
                    </div>

                    <div class="mb-3">
                        <label for="input_where" class="form-label">Adresse :</label>
                        <textarea id="input_where" class="form-control" name="where" rows="2">138 avenue Jean Jaurès, 95100 Argenteuil</textarea>
                    </div>

                    <div class="mb-3">
                        <label for="input_phone" class="form-label">Téléphone :</label>
                        <input type="tel" id="input_phone" class="form-control" name="phone" value="06.03.16.53.51">
                    </div>

                    <div class="mb-3">
                        <label for="input_firstName" class="form-label">Prénom :</label>
                        <input type="text" id="input_firstName" class="form-control" name="firstName" value="Richard">
                    </div> #}

				</form>
			</div>
		</div>
	</div>
</div>

{# {% block scripts %}
    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            // Sélection des champs du formulaire
            const inputs = {
                howOld: document.getElementById('input_howOld'),
                theme: document.getElementById('input_theme'),
                when: document.getElementById('input_when'),
                where: document.getElementById('input_where'),
                phone: document.getElementById('input_phone'),
                firstName: document.getElementById('input_firstName')
            };

            // Sélection des éléments d'aperçu
            const previews = {
                howOld: document.getElementById('preview_howOld'),
                theme: document.getElementById('preview_theme'),
                when: document.getElementById('preview_when'),
                where: document.getElementById('preview_where'),
                phone: document.getElementById('preview_phone'),
                firstName: document.getElementById('preview_firstName')
            };

            // Fonction pour mettre à jour l'aperçu
            const updatePreview = (event) => {
                const { id, value } = event.target;
                const previewKey = id.replace('input_', '');
                if (previews[previewKey]) {
                    previews[previewKey].textContent = value;
                }
            };

            // Écouteurs d'événements sur les champs du formulaire
            Object.values(inputs).forEach(input => {
                input.addEventListener('input', updatePreview);
            });
        });
    </script>
{% endblock %} #}